<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>members</title>
<style>
table {
  border-collapse: collapse;
}
th, td {
  padding: 5px 10px;
  border: 1px solid #000;
}
</style>
</head>
<body>
<h1>会員リスト</h1>
<table id="member-table">
  <tr>
    <th>会員番号</th>
    <th>氏名</th>
    <th>年齢</th>
    <th>操作</th>
  </tr>
</table>

<!-- 会員情報を格納するテンプレート -->
<template id="member-row">
<tr>
 <td><!-- 会員番号 --></td>
 <td><!-- 氏名 --></td>
 <td><!-- 年齢 --></td>
 <td><button>削除</button></td>
</tr>
</template>
<script>
//会員テーブルの1行分を生成する関数
//@param memberオブジェクト(id, name, ageプロパティを持つ)
function createRow(member){ 

//テンプレートの要素を複製
const template = document.getElementById('member-row');
const clone = document.importNode(template.content, true); 

//削除ボタンの作成
const button = document.createElement('button'); 
//イベントリスナーの付与
button.addEventListener('click', e =>{
  //親(td)の親要素(tr)の削除
  e.target.parentNode.parentNode.remove();
});

//td要素の生成
//会員番号
const td1 = clone.querySelector('td:nth-child(1)');
td1.textContent = member.id;
//氏名
const td2 = clone.querySelector('td:nth-child(2)');
td2.textContent = member.name;
//年齢
const td3 = clone.querySelector('td:nth-child(3)');
td3.textContent = member.age;

//tr要素をテーブルに追加
document.getElementById('member-table').append(clone);
}

//表示させる会員のリスト
const members = [
  {id: 1, name: '山田太郎', age: 25},
  {id: 2, name: '佐藤次郎', age: 30},
  {id: 3, name: '鈴木三郎', age: 50}
];

members.forEach(member => {
  createRow(member)
});

</script>

</body>
</html>
